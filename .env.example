# Environment configuration for Airavate Backend API
# Copy this file to .env and update with your actual values

# Environment
NODE_ENV=development

# Server Configuration
PORT=3000
HOST=localhost

# Database Configuration
# For local development - update with your PostgreSQL connection string
DATABASE_URL="postgresql://postgres:password@localhost:5432/airavate_dev?schema=public"

# JWT Configuration
# Generate a strong secret for production (minimum 64 characters)
JWT_SECRET="your-jwt-secret-key-change-this-in-production-minimum-64-characters"
JWT_EXPIRES_IN=7d

# CORS Configuration
# Comma-separated list of allowed origins
CORS_ORIGIN=http://localhost:3000,http://localhost:3001,http://localhost:5173

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100  # requests per window

# Logging Configuration
LOG_LEVEL=debug
PRISMA_LOG_LEVEL=info

# Security
BCRYPT_ROUNDS=12

# Authentik OAuth2 Configuration
# Update these with your Authentik instance details
AUTHENTIK_ISSUER=http://localhost:9000/application/o/airavate-backend/
AUTHENTIK_CLIENT_ID=your_authentik_client_id
AUTHENTIK_CLIENT_SECRET=your_authentik_client_secret
AUTHENTIK_REDIRECT_URI=http://localhost:3000/api/v1/auth/callback
AUTHENTIK_SCOPE=openid profile email offline_access

# Future Integrations (placeholder for development)
# Uncomment and configure when ready to integrate

# Razorpay Configuration (for payment processing)
# RAZORPAY_KEY_ID=rzp_test_your_test_key_id
# RAZORPAY_KEY_SECRET=your_test_secret_key

# Email Configuration (for notifications)
# SMTP_HOST=smtp.mailtrap.io
# SMTP_PORT=2525
# SMTP_USERNAME=your_smtp_username
# SMTP_PASSWORD=your_smtp_password
# SMTP_FROM=noreply@airavate.local

# Monitoring & Observability (for production)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# DATADOG_API_KEY=your_datadog_api_key
# NEW_RELIC_LICENSE_KEY=your_newrelic_license_key

# Redis Configuration (for session management and caching)
# REDIS_URL=redis://localhost:6379

# File Upload Configuration
# MAX_FILE_SIZE=10485760  # 10MB in bytes
# UPLOAD_PATH=./uploads
# ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# API Rate Limiting (per endpoint)
# AUTH_RATE_LIMIT=5     # auth attempts per window
# UPLOAD_RATE_LIMIT=10  # file uploads per window
# API_RATE_LIMIT=100    # general API calls per window

# Development Tools
# Enable additional debugging and development features
DEBUG_MODE=true
ENABLE_SWAGGER=true
ENABLE_REQUEST_LOGGING=true

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000  # milliseconds
HEALTH_CHECK_INTERVAL=30000  # milliseconds

# Database Connection Pool
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_CONNECTION_TIMEOUT=60000  # milliseconds
DB_IDLE_TIMEOUT=180000  # milliseconds